<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pablosiu | pixel spotify-lfm</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg: #050505;
            --tile: #111;
            --border-pixel: #333;
            --accent: #bc13fe;
            --yt: #ff0000;
            --steam: #00adee;
            --discord: #5865F2;
            --spotify-green: #1DB954; /* Zmieniony kolor główny */
            --insta: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Press Start 2P', cursive; }
        body { background: var(--bg); color: white; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; image-rendering: pixelated; }
        
        #bg-video { position: fixed; inset: 0; min-width: 100%; min-height: 100%; z-index: -2; object-fit: cover; filter: brightness(0.2); }

        /* MUTE BUTTON */
        .mute-pixel {
            position: fixed; top: 20px; left: 20px;
            width: 50px; height: 50px;
            background: var(--tile); border: 4px solid var(--border-pixel);
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; z-index: 101; box-shadow: 4px 4px 0px #000; color: var(--accent);
        }
        .mute-pixel:hover { border-color: white; box-shadow: 6px 6px 0px var(--accent); }

        /* NOTIFICATION */
        #notification {
            position: fixed; bottom: -100px; left: 50%; transform: translateX(-50%);
            background: #111; border: 4px solid white; padding: 15px 25px;
            font-size: 10px; z-index: 2000; box-shadow: 8px 8px 0px #000; transition: 0.4s;
        }
        #notification.show { bottom: 40px; }

        .container {
            display: grid; grid-template-columns: repeat(4, 1fr);
            gap: 15px; width: 90%; max-width: 550px; z-index: 1;
        }

        .pixel-tile {
            background: var(--tile); border: 4px solid var(--border-pixel);
            padding: 15px; display: flex; flex-direction: column;
            align-items: center; justify-content: center; text-decoration: none;
            color: white; box-shadow: 6px 6px 0px #000; transition: 0.1s;
        }
        .pixel-tile:hover { border-color: white; transform: translate(-2px, -2px); }

        /* WIDŻET SPOTIFY (ZASILANY PRZEZ LAST.FM) */
        .p-spotify-fake {
            grid-column: span 4; display: none;
            flex-direction: row; align-items: center; gap: 15px;
            background: #0a0a0a; border-color: var(--spotify-green);
        }
        .p-spotify-fake:hover { box-shadow: 8px 8px 0px var(--spotify-green) !important; }
        .p-spotify-fake img { width: 50px; height: 50px; border: 3px solid var(--spotify-green); }
        .sp-info { flex: 1; overflow: hidden; }
        .sp-status { font-size: 7px; color: var(--spotify-green); margin-bottom: 5px; }

        /* HOVERS */
        .p-yt:hover { box-shadow: 8px 8px 0px var(--yt) !important; color: var(--yt); }
        .p-steam:hover { box-shadow: 8px 8px 0px var(--steam) !important; color: var(--steam); }
        .p-white:hover { box-shadow: 8px 8px 0px #fff !important; color: #fff; }
        .p-twitch:hover { box-shadow: 8px 8px 0px #a970ff !important; color: #a970ff; }
        .p-discord:hover { box-shadow: 8px 8px 0px var(--discord) !important; color: var(--discord); }
        .p-insta:hover { box-shadow: 8px 8px 0px #e6683c !important; border-image: var(--insta) 1; color: #f09433; }

        /* UKŁAD */
        .p-profile { grid-column: span 4; flex-direction: row; gap: 20px; justify-content: flex-start; padding: 25px; }
        .p-profile img { width: 80px; height: 80px; border: 4px solid var(--accent); }
        .p-profile h1 { font-size: 18px; color: var(--accent); }

        .p-yt, .p-steam { grid-column: span 2; height: 100px; font-size: 8px; }
        .p-discord-full { grid-column: span 4; height: 60px; font-size: 10px; cursor: pointer; flex-direction: row; gap: 15px; border-color: var(--discord); }
        .p-small { grid-column: span 1; height: 65px; }
        .pixel-tile i { font-size: 24px; margin-bottom: 5px; }

        #overlay { position: fixed; inset: 0; background: #000; z-index: 1000; display: flex; justify-content: center; align-items: center; cursor: pointer; }
        .start-btn { border: 4px solid white; padding: 20px; font-size: 12px; animation: blink 1s infinite; }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0; } }
        #overlay.hidden { display: none; }
    </style>
</head>
<body>

<video id="bg-video" loop muted playsinline><source src="bg.mp4" type="video/mp4"></video>
<audio id="bg-music" loop><source src="background.mp3" type="audio/mpeg"></audio>

<div id="notification">SKOPIOWANO!</div>

<div id="overlay" onclick="launch()">
    <div class="start-btn">PRESS START</div>
</div>

<div class="mute-pixel" onclick="toggleMute()" id="mute-btn">
    <i class="fas fa-volume-up"></i>
</div>

<div class="container">
    <div class="pixel-tile p-profile">
        <img src="avatar.png" id="av">
        <h1>Pablosiu</h1>
    </div>

    <div class="pixel-tile p-spotify-fake" id="lfm-tile">
        <img id="lfm-img" src="">
        <div class="sp-info">
            <p class="sp-status" id="lfm-status">SŁUCHAM NA SPOTIFY:</p>
            <marquee id="lfm-track" scrollamount="3" style="font-size: 9px;"></marquee>
        </div>
        <i class="fab fa-spotify" style="color: var(--spotify-green); font-size: 18px; margin-right: 10px;"></i>
    </div>

    <a href="https://youtube.com/@Pvblosiu" target="_blank" class="pixel-tile p-yt">
        <i class="fab fa-youtube"></i><span>YOUTUBE</span>
    </a>
    <a href="https://steamcommunity.com/id/pablosiu/" target="_blank" class="pixel-tile p-steam">
        <i class="fab fa-steam"></i><span>STEAM</span>
    </a>

    <div class="pixel-tile p-discord-full p-discord" onclick="copy()">
        <i class="fab fa-discord"></i><span>PABLOSIU_</span>
    </div>

    <a href="https://x.com/pablosiu_" target="_blank" class="pixel-tile p-small p-white"><i class="fa-brands fa-x-twitter"></i></a>
    <a href="https://github.com/itspablosiu" target="_blank" class="pixel-tile p-small p-white"><i class="fab fa-github"></i></a>
    <a href="https://twitch.tv/WcaleNieAzile" target="_blank" class="pixel-tile p-small p-twitch"><i class="fab fa-twitch"></i></a>
    <a href="https://instagram.com/pablositt0" target="_blank" class="pixel-tile p-small p-insta"><i class="fab fa-instagram"></i></a>
</div>

<script>
    // --- KONFIGURACJA ---
    const LFM_USER = "arkadivsz"; 
    const LFM_API_KEY = "0d22a6285362338637e9fe9eb97a1fd0";
    const DISCORD_ID = "789133178144030737";
    // --------------------

    const music = document.getElementById('bg-music');

    function launch() {
        document.getElementById('overlay').classList.add('hidden');
        music.volume = 0.2; music.play();
        document.getElementById('bg-video').play();
    }

    function toggleMute() {
        music.muted = !music.muted;
        document.getElementById('mute-btn').innerHTML = music.muted ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-up"></i>';
    }

    function copy() {
        navigator.clipboard.writeText('pablosiu_');
        const n = document.getElementById('notification');
        n.classList.add('show'); setTimeout(() => n.classList.remove('show'), 2000);
    }

    async function updateLFM() {
        try {
            const url = `https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=${LFM_USER}&api_key=${LFM_API_KEY}&format=json&limit=1`;
            const r = await fetch(url);
            const data = await r.json();
            const track = data.recenttracks.track[0];
            
            document.getElementById('lfm-tile').style.display = 'flex';
            document.getElementById('lfm-track').innerText = `${track.name} - ${track.artist['#text']}`;
            document.getElementById('lfm-img').src = track.image[2]['#text'] || '';
            
            const isPlaying = track['@attr'] && track['@attr'].nowplaying === 'true';
            document.getElementById('lfm-status').innerText = isPlaying ? "SŁUCHAM NA SPOTIFY:" : "OSTATNIO SŁUCHANE:";
        } catch(e) { console.error(e); }
    }

    async function updateDiscord() {
        try {
            const r = await fetch(`https://api.lanyard.rest/v1/users/${DISCORD_ID}`);
            const { data } = await r.json();
            if(data.discord_user.avatar) document.getElementById('av').src = `https://cdn.discordapp.com/avatars/${DISCORD_ID}/${data.discord_user.avatar}.png?size=256`;
        } catch(e) {}
    }

    setInterval(updateLFM, 15000); 
    updateLFM();
    updateDiscord();
</script>
</body>
</html>
