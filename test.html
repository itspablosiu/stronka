<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pablosiu | bio</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-tile: rgba(15, 15, 15, 0.7);
            --border: rgba(255, 255, 255, 0.08);
            --accent: #7000ff;
            --spotify-green: #1DB954;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }

        body {
            background-color: #000;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        #bg-video {
            position: fixed;
            top: 50%; left: 50%;
            min-width: 100%; min-height: 100%;
            z-index: -2;
            transform: translate(-50%, -50%);
            object-fit: cover;
            filter: brightness(0.4);
        }

        #overlay {
            position: fixed;
            inset: 0;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            cursor: pointer;
            transition: opacity 0.8s ease;
            text-transform: uppercase;
            letter-spacing: 4px;
            font-size: 14px;
        }
        #overlay.hidden { opacity: 0; pointer-events: none; }

        .container {
            position: relative;
            z-index: 1;
            width: 90%;
            max-width: 600px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            padding: 20px 0;
        }

        .tile {
            background: var(--bg-tile);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--border);
            border-radius: 24px;
            display: flex;
            align-items: center;
            text-decoration: none;
            color: white;
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .tile:hover {
            transform: translateY(-4px);
            border-color: var(--accent);
        }

        /* SZEROKIE KAFELKI (Profil, Spotify, YouTube) */
        .wide {
            grid-column: span 4;
            padding: 20px 25px;
            justify-content: flex-start;
            gap: 20px;
        }

        .profile img {
            width: 80px; height: 80px;
            border-radius: 50%;
            border: 3px solid #555;
            object-fit: cover;
        }
        .profile h1 { font-size: 26px; font-weight: 800; }

        #spotify-tile { display: none; flex-direction: column; align-items: flex-start; border-left: 4px solid var(--spotify-green); }
        .spotify-info { display: flex; align-items: center; gap: 15px; width: 100%; }
        .spotify-info img { width: 50px; height: 50px; border-radius: 10px; }
        .progress-bar { width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; margin-top: 10px; overflow: hidden; }
        #progress-fill { width: 0%; height: 100%; background: var(--spotify-green); }

        .youtube-tile { gap: 15px; }
        .youtube-tile i { font-size: 30px; color: #ff0000; }
        .youtube-tile span { font-weight: 700; font-size: 18px; }

        /* ŚREDNIE KAFELKI (Steam, Discord) */
        .medium {
            grid-column: span 2;
            height: 70px;
            justify-content: center;
            gap: 10px;
        }

        /* MAŁE IKONY (Dolny rząd) */
        .social-icon {
            grid-column: span 1;
            height: 70px;
            justify-content: center;
            font-size: 22px;
        }

        @media (max-width: 480px) {
            .container { grid-template-columns: repeat(2, 1fr); }
            .wide, .medium { grid-column: span 2; }
            .social-icon { grid-column: span 1; }
        }
    </style>
</head>
<body>

<video id="bg-video" loop muted playsinline>
    <source src="bg.mp4" type="video/mp4">
</video>

<audio id="bg-audio" loop>
    <source src="background.mp3" type="audio/mpeg">
</audio>

<div id="overlay" onclick="startApp()">
    [ Kliknij, aby wejść ]
</div>

<div class="container">
    <div class="tile wide profile">
        <img src="avatar.png" id="avatar">
        <h1>Pablosiu</h1>
    </div>

    <div class="tile wide" id="spotify-tile">
        <div class="spotify-info">
            <img id="sp-cover" src="">
            <div class="track-details">
                <p style="font-size: 10px; color: var(--spotify-green); font-weight: 800;">SŁUCHAM TERAZ</p>
                <h2 id="sp-title" style="font-size: 14px;">Tytuł</h2>
                <span id="sp-artist" style="font-size: 12px; opacity: 0.6;">Artysta</span>
            </div>
        </div>
        <div class="progress-bar"><div id="progress-fill"></div></div>
    </div>

    <a href="https://youtube.com/@Pvblosiu" target="_blank" class="tile wide youtube-tile">
        <i class="fab fa-youtube"></i>
        <span>YouTube</span>
    </a>

    <a href="https://steamcommunity.com/id/pablosiu/" target="_blank" class="tile medium">
        <i class="fab fa-steam" style="color: #66c0f4;"></i>
        <span style="font-weight: 700;">Steam</span>
    </a>

    <div class="tile medium" style="cursor: pointer;" onclick="navigator.clipboard.writeText('pablosiu_')">
        <i class="fab fa-discord" style="color: #5865F2;"></i>
        <span style="font-weight: 700;">pablosiu_</span>
    </div>

    <a href="https://x.com/pablosiu_" target="_blank" class="tile social-icon"><i class="fa-brands fa-x-twitter"></i></a>
    <a href="https://github.com/itspablosiu" target="_blank" class="tile social-icon"><i class="fab fa-github"></i></a>
    <a href="https://twitch.tv/WcaleNieAzile" target="_blank" class="tile social-icon"><i class="fab fa-twitch" style="color: #a970ff;"></i></a>
    <a href="https://instagram.com/pablositt0" target="_blank" class="tile social-icon"><i class="fab fa-instagram" style="color: #e4405f;"></i></a>
</div>

<script>
    const DISCORD_ID = "789133178144030737";
    const audio = document.getElementById('bg-audio');
    const video = document.getElementById('bg-video');

    function startApp() {
        document.getElementById('overlay').classList.add('hidden');
        audio.volume = 0.3;
        audio.play();
        video.play();
    }

    async function fetchLanyard() {
        try {
            const response = await fetch(`https://api.lanyard.rest/v1/users/${DISCORD_ID}`);
            const { data } = await response.json();

            const avatar = document.getElementById('avatar');
            const statusColors = { online: '#43b581', idle: '#faa61a', dnd: '#f04747', offline: '#747f8d' };
            
            if (data.discord_user.avatar) {
                const ext = data.discord_user.avatar.startsWith('a_') ? 'gif' : 'png';
                avatar.src = `https://cdn.discordapp.com/avatars/${DISCORD_ID}/${data.discord_user.avatar}.${ext}?size=256`;
            }
            avatar.style.borderColor = statusColors[data.discord_status] || statusColors.offline;

            const spTile = document.getElementById('spotify-tile');
            if (data.listening_to_spotify) {
                spTile.style.display = 'flex';
                document.getElementById('sp-title').innerText = data.spotify.track;
                document.getElementById('sp-artist').innerText = data.spotify.artist;
                document.getElementById('sp-cover').src = data.spotify.album_art_url;
                const prog = ((Date.now() - data.spotify.timestamps.start) / (data.spotify.timestamps.end - data.spotify.timestamps.start)) * 100;
                document.getElementById('progress-fill').style.width = Math.min(prog, 100) + "%";
            } else {
                spTile.style.display = 'none';
            }
        } catch (err) {}
    }

    setInterval(fetchLanyard, 1000);
    fetchLanyard();
</script>

</body>
</html>
